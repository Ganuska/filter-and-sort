import{j as e,r as a,A as w,m as l}from"./index-f6bc1dfc.js";const j=({children:n})=>e.jsx("main",{className:"flex min-h-screen w-full max-w-full items-center justify-center sm:p-0",children:n}),g=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,24}$/,N=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,v="/filter-and-sort/assets/loginReg-a272757f.jpg",k=()=>{const[n,r]=a.useState(""),[x,h]=a.useState(!1),[t,p]=a.useState({email:"",password:""}),{handleLoginWithCredentials:s}=a.useContext(w),b=l.useNavigate(),u=d=>{const{name:m,value:o}=d.target;p(c=>({...c,[m]:o}))},f=()=>{t.email&&t.password&&h(!0)};a.useEffect(()=>{const d=N.test(t.email),m=g.test(t.password);t.email&&!d?r("email is not valid"):t.password&&!m?r("password is not valid"):(r(""),f())},[t.email,t.password]);const i=d=>{d.preventDefault(),s(t.password,t.email).then(()=>b("/"))};return e.jsxs(j,{children:[e.jsx("div",{className:"h-full w-[50%] md:hidden",children:e.jsx("img",{src:v,alt:"splash"})}),e.jsx("div",{className:" mx-auto w-[50%] md:w-full h-screen flex justify-center items-center p-4 bg-slate-400 rounded shadow",children:e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Email:"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"Password:"}),e.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:u,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("p",{className:"mb-4 text-stone-600 text-sm text-center",children:["don`t have an account?"," ",e.jsx(l.Link,{className:"hover:text-blue-500",to:"/auth/register",children:"Sign up"})," "]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{disabled:!x,type:"submit",className:"bg-blue-500 disabled:bg-blue-300 text-white font-semibold py-2 px-4 rounded",children:"Login"})}),n&&e.jsx("div",{children:e.jsx("p",{className:"text-red-500 text-center mt-2 text-[0.9rem]",children:n})})]})})]})},C=()=>e.jsx(e.Fragment,{children:e.jsx(k,{})}),E=()=>{const[n,r]=a.useState(""),[x,h]=a.useState(!1),[t,p]=a.useState(!1),[s,b]=a.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),u=l.useNavigate(),{handleRegisterWithCredentials:f}=a.useContext(w),i=o=>{p(!0);const{name:c,value:y}=o.target;b(S=>({...S,[c]:y}))},d=()=>{s.confirmPassword&&s.email&&s.password&&h(!0)};a.useEffect(()=>{if(t){const o=N.test(s.email),c=g.test(s.password);s.email&&!o?r("email is not valid"):s.password&&!c?r("password must be 8+ characters, 1 digit, 1 lowercase, 1 uppercase"):s.password&&s.confirmPassword&&s.password!==s.confirmPassword?r("password dont match"):!s.firstName||!s.lastName?r("First name and Last name are required"):(r(""),d())}},[s.email,s.password,s.confirmPassword]);const m=o=>{o.preventDefault(),f(s.password,s.email).then(()=>u("/"))};return e.jsxs(j,{children:[e.jsx("div",{className:"h-full w-[50%] md:hidden",children:e.jsx("img",{src:v,alt:"splash"})}),e.jsx("div",{className:" mx-auto w-[50%] md:w-full h-screen flex justify-center items-center p-4 bg-slate-400 rounded shadow",children:e.jsxs("form",{className:"w-[300px] ",onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-600",children:"First name:"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:i,required:!0,className:"w-full border text-black border-gray-300 rounded p-2 "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Last name:"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:i,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Email:"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"Password:"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:i,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"confirm password:"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:i,required:!0,className:"w-full border text-black border-gray-300 rounded p-2"})]}),e.jsxs("p",{className:"mb-4 text-stone-600 text-sm text-center",children:["alredy have an account?"," ",e.jsx(l.Link,{className:"hover:text-blue-500",to:"/auth/login",children:"Sign in"})," "]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{disabled:!x,type:"submit",className:"bg-blue-500 disabled:bg-blue-300 text-white font-semibold py-2 px-4 rounded",children:"Register"})}),n&&e.jsx("div",{children:e.jsx("p",{className:"text-red-500 text-center mt-2 text-[0.9rem]",children:n})})]})})]})},F=()=>e.jsx(e.Fragment,{children:e.jsx(E,{})}),P=()=>e.jsxs(l.Routes,{children:[e.jsx(l.Route,{path:"/register",element:e.jsx(F,{})}),e.jsx(l.Route,{path:"/login",element:e.jsx(C,{})}),e.jsx(l.Route,{path:"*",element:e.jsx(l.Navigate,{to:"login"})})]});export{P as AuthRoutes};
